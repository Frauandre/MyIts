<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
</head>
<body>


<script>

    const URL = 'api/canzoni'    
    const TAB = document.createElement('table')
    const xhr = new XMLHttpRequest()

    xhr.onreadystatechange = function () {
        console.log('Siamo in stato ', xhr.readyState);
        console.log('La risposta del server Ã¨: ', xhr.status );

        if (xhr.readyState == 4 &&  xhr.status == 200){

            
            const canzoniJS = JSON.parse(xhr.response)
            
            for (const canzone of canzoniJS) {
                const TR = document.createElement('tr')
                const TD = document.createElement('td')
                TD.textContent = canzone.titolo
                TR.appendChild(TD)
                //console.log(canzone.titolo);
                TAB.appendChild(TR)
            }
            document.body.appendChild(TAB)
        }

    }


    xhr.open('GET', URL)
    xhr.send()






</script>

</body>
</html>